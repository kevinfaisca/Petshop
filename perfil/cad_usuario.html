<style>
    .dropdown-menu {
        left: initial !important;
        width: auto;
    }

    labal {
        position: inherit !important;
        color: inherit !important;
        font-size: inherit !important;
    }

    .ul_menuDropdownHeader {
        display: none;
    }

    input#chk_abreMenuDropdown:checked + ul.ul_menuDropdownHeader {
        display: block;
        position: absolute;
        background-color: #005f85;
        z-index: 1000;
        list-style: none;
        padding: 0;
        top: 100%;
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
        overflow: hidden;
        box-shadow: 0px 5px 10px 0px #606060
    }

    ul.ul_menuDropdownHeader li {
        color: white;
        padding: 5px;
        transition: 0.3s;
    }

        ul.ul_menuDropdownHeader li:hover {
            background-color: white;
            color: initial;
        }

    ul.ul_menuDropdownHeader a {
        text-decoration: none;
        color: initial;
    }

    .span_opcoesMenu {
        font-size: 14px;
        color: initial;
    }
</style>

<!DOCTYPE html>
<header>
    <div class="row no-gutters m-0" style="background-color: #005f85">
        <div class="menu_topo col-md-10 offset-md-1 col-12">
            <nav class="navbar navbar-expand-lg d-flex justify-content-end" id="navbar_logo">
                <a href="../index.html" class="navbar-brand navbar-nav mr-auto">
                    <img src="../imagens/pngs/logo.png" id="img_logoHeader" style="height: 35px; width: auto;" alt="logo_petShop" />
                </a>
                <div class="mt-2 mt-sm-0 mr-2" style="margin-right:45px;">
                    <span style="color:white;">Olá</span> <span style="color: white; font-weight: 700;"></span>
                    &nbsp;
                    <label for="chk_abreMenuDropdown" class="m-0">
                        <img src="../arquivos/fotoUsuario.png" style="height: 45px; width: 45px; border-radius: 100%; object-fit: cover; cursor: pointer;" alt="fotoUsuario" />
                    </label>
                    <input type="checkbox" name="chk_abreMenuDropdown" id="chk_abreMenuDropdown" style="display:none;" value="" />

                    <ul class="ul_menuDropdownHeader">
                        <li onclick="javascript: window.location.href = 'vis_gerenciadorConteudo.html'" style="cursor:pointer;">
                            <span class="span_opcoesMenu">Gerenciador de Conteúdo</span>
                        </li>

                        <li onclick="javascript: window.location.href = 'vis_usuarioPerfil.html'" style="cursor:pointer;">
                            <span class="span_opcoesMenu">Perfil</span>
                        </li>

                        <li onclick="javascript: window.location.href = '../login.html?param=logoff'" style="cursor:pointer;">
                            <span class="span_opcoesMenu">Sair</span>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
</header>
<html lang="PT-BR">
<head>
    <title>PetShop</title>
    <!-- bootstrap para gerenciador de conte�do -->
    <link rel="stylesheet" href="../include/bootstrap/css/bootstrap.css" type="text/css" />

    <!--CSS-->
    <link href="../include/css/styles.css" rel="stylesheet">

    <!--Jquery-->
    <script src="../include/sbadmin/vendor/jquery/jquery-3.6.4.js"></script>
    <link rel="stylesheet" href="../include/css/jquery-ui.css" />
    <link rel="stylesheet" href="../include/jquery-confirm-v3.3.4/css/jquery-confirm.css" />

    <!--==============================================================================-->
    <!--Alerts personalizados-->
    <script src="../include/jquery-confirm-v3.3.4/js/jquery-confirm.js" type="text/javascript"></script>

    <!--Bootstrap MultiSelect -->
    <script src="../include/bootstrap-multiselect-master/dist/js/bootstrap-multiselect.js" type="text/javascript"></script>

    <!--ClipBoard (ctr c) -->
    <script src="../include/js/clipboard/clipboard.min.js" type="text/javascript"></script>

    <!--funçoes -->
    <script src="../include/js/java_functions.js"></script>

    <!--Email-->
    <script src="../include/js/smtp.js"></script>
</head>
<body>
    <div class="row" style="margin-right:0px;">
        <div class="col-xs-12 col-md-12 noPadding" style="margin-top: 4px;">
            <div class="row">
                <div class="col-xs-10 col-xs-offset-1 col-md-8-offset-2 noPadding"></div>
            </div>
            <form action="/" method="post" name="frm_petshop" id="frm_petshop" autocomplete="off">
                <div class="row">
                    <div class="col-md-12 noPadding">
                        <div class="row">
                            <div class="col-md-8-offset-2 col-md-8-offset-2 text-center espacamentoPadrao noPadding" style="font-size:25px; color:#524944; margin-top:25px;">
                                <span>Cadastrar usuário</span>
                                <p id="msg" style="color: red; font-size: 16px; display: none;">Cadastrado com sucesso!</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" style="background-color:white; min-height:350px;color:#000;padding:20px;">
                    <div name="div_cadastraProduto" id="div_cadastraProduto">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Dados
                            </div>
                            <div class="panel-body">
                                <div class="row form-group">
                                    <div class="col-xs-12">
                                        <input type="text" class="form-control" name="txt_nome" id="txt_nome" value="" placeholder="Nome" autocomplete="off" />
                                    </div>
                                </div>

                                <div style="margin-top:30px;"></div>

                                <div class="row form-group">
                                    <div class="col-xs-12">
                                        <input type="text" class="form-control" name="txt_cpf" id="txt_cpf" value="" placeholder="CPF" autocomplete="off" />
                                    </div>
                                </div>

                                <div style="margin-top:30px;"></div>

                                <div class="row form-group">
                                    <div class="col-xs-12">
                                        <input type="text" class="form-control" name="txt_email" id="txt_email" value="" placeholder="E-mail" autocomplete="off" />
                                    </div>
                                </div>

                                <div style="margin-top:30px;"></div>

                                <div class="row">
                                    <div class="col-12 text-center">
                                        <input type="button" class="btn_enviar" id="btn_enviar" name="btn_enviar" value="Enviar" onclick="fcn_enviar()" />
                                        <input type="button" class="btn_enviar" id="btn_voltar" name="btn_voltar" value="Voltar" onclick="javascript: window.location.href = '../login.html'" />

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <footer>
        <div id="div_footer">
            <div class="row" style="background-color: #005f85;height: 110px; margin: 0; position: absolute; bottom: 0; width: 100%;">
                <div class="col-8 offset-2" style="background-color:#005f85;">
                    <div style="display: flex; height: 110px; justify-content: center; align-items: center;">
                        <img src="../imagens/pngs/logo.png" alt="logo_petShop" style="height: 50px; width: auto;" />
                    </div>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>


<script type="text/javascript">

    function fcn_enviar() {
        if ($('#txt_nome').val() == "") {
            $('#txt_nome').focus()
            fcn_alert("Atenção", "Preencha o campo nome.")
            return false
        }

        if ($('#txt_cpf').val() == "") {
            $('#txt_cpf').focus()
            fcn_alert("Atenção", "Preencha o campo CPF.")
            return false
        }

        if ($('#txt_email').val() == "") {
            $('#txt_email').focus()
            fcn_alert("Atenção", "Preencha o campo E-mail.")
            return false
        }

        event.preventDefault()
        let url = "https://localhost:44387/api/Usuario/"
        let txt_nome = document.getElementById("txt_nome").value
        let txt_cpf = document.getElementById("txt_cpf").value
        let txt_email = document.getElementById("txt_email").value

        body = {
            "nome": txt_nome,
            "cpf": txt_cpf,
            "email": txt_email,
        }
        fazPost(url, body)

        

        /*Enviar email usando servidor gratuito do google SMTP sem dominio*/
        Email.send({
            Host : "smtp.elasticemail.com",
            Username : "kevin.faisca@aluno.faculdadeimpacta.com.br",
            Password : "1912C1334A9A1E411FF2CFFD24F997AF0F80",
            To : txt_email,
            From : "kevin.faisca@aluno.faculdadeimpacta.com.br",
            Subject : "Conta criada com sucesso",
            Body : "Olá " + txt_nome + " sua conta em nossa petshop foi criada com sucesso!"
        }).then(
        message => alert(message)
        );

        /*Enviar email usando servidor gratuito do google SMTP com dominio*/
        /*
        Email.send({
            SecureToken : "C973D7AD-F097-4B95-91F4-40ABC5567812",
            To : 'them@website.com',
            From : "you@isp.com",
            Subject : "This is the subject",
            Body : "And this is the body"
        }).then(
        message => alert(message)
        );
        */
        document.getElementById("txt_nome").value = "";
        document.getElementById("txt_cpf").value = "";
        document.getElementById("txt_email").value = "";
        $('#msg').css("display","");

    }
</script>